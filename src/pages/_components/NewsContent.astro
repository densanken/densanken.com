---
interface Props {
  href: string;
  title: string;
  date: Date | string;
  description: string;
  badges?: string[];
}

const { href, title, date, description, badges } = Astro.props;

const dateStr =
  date instanceof Date
    ? new Intl.DateTimeFormat("ja-JP", {
        year: "numeric",
        month: "long",
        day: "numeric",
      }).format(date)
    : date;
---

<a href={href} class="relative mb-4 block w-full max-w-210 rounded-2xl bg-white px-4 py-3 shadow shadow-black/25">
  <div class="flex items-center gap-3">
    <span class="text-sm">{dateStr}</span>
    {
      badges && badges.length > 0 && (
        <div class="flex items-center gap-1">
          {badges.map((badge) => (
            <span class="h-5 min-w-12 rounded bg-indigo-200 px-2 text-center text-sm font-bold">{badge}</span>
          ))}
        </div>
      )
    }
  </div>
  <h3 class="mt-1 text-lg font-bold">{title}</h3>
  <p class="text-overflow-ellipsis overflow-hidden whitespace-nowrap">
    {description}
  </p>
  <span class="text-sm text-blue-600 underline"> 続きを読む &rarr; </span>
</a>
